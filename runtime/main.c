//#include <stdio.h>
//#include <string.h>
//#include <stdlib.h>

#define S(X)

#include "vm.h"
#include "dynamic.h"
#include "ss_string.h"

int main(int argc, char **argv) {

    vm_env *env = vm_init(25, 10, -1);

    char program [] = {
      //9, 0, 103, 114, 101, 101, 110, 0, 114, 101, 100, 0, 99, 111, 108, 111, 114, 115, 0, 0, 110, 101, 105, 103, 104, 98, 111, 117, 114, 115, 0, 97, 0, 98, 0, 99, 0, 100, 0, 1, 9, 0, 9, 1, 10, 2, 0, 143, 2, 22, 0, 3, 9, 0, 1, 0, 97, 0, 1, 23, 0, 0, 2, 22, 0, 3, 9, 0, 1, 0, 98, 0, 1, 23, 0, 0, 2, 10, 2, 0, 22, 0, 3, 9, 0, 1, 0, 97, 0, 1, 23, 0, 0, 2, 22, 0, 3, 9, 0, 1, 0, 99, 0, 1, 23, 0, 0, 2, 10, 2, 0, 22, 0, 3, 9, 0, 1, 0, 98, 0, 1, 23, 0, 0, 2, 22, 0, 3, 9, 0, 1, 0, 100, 0, 1, 23, 0, 0, 2, 10, 2, 0, 22, 0, 3, 9, 0, 1, 0, 99, 0, 1, 23, 0, 0, 2, 22, 0, 3, 9, 0, 1, 0, 100, 0, 1, 23, 0, 0, 2, 10, 2, 0, 10, 4, 0, 143, 4, 1, 13, 2, 13, 2, 13, 2, 13, 2, 12, 4, 5, 6, 7, 8, 24, 25, 0, 20, 65, 0, 1, 13, 4, 12, 1, 4, 24, 25, 0, 20, 26, 0, 23, 3, 5, 0, 14, 19, 0, 23, 3, 5, 1, 14, 19, 0, 17, 1, 13, 20, 233, 255, 26, 21, 229, 255, 10, 0, 0, 25, 3, 20, 9, 0, 23, 3, 30, 2, 21, 246, 255, 0, 5, 17, 0, 0, 20, 194, 255, 26, 21, 190, 255, 10, 0, 0, 25, 3, 20, 18, 0, 23, 5, 23, 6, 23, 7, 23, 8, 10, 4, 0, 30, 2, 21, 237, 255, 0, 5, 0, 4
      1,0,
      "ababababa",
      "a"
};

    vm_execute(env, program, 1);
    vm_printf("--------------------",1);

    vm_free(env);

/*
    dyn_c list;
    DYN_INIT(&list);

    DYN_SET_LIST(&list);
    DYN_SET_LIST(&list);
    DYN_SET_LIST(&list);

    dyn_free(&list);
*/
    return 0;
}
